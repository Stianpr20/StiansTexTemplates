%========== New environments ===\chapter{New environments}%

% For custom verbatim environment
%\usepackage{fancyvrb}
%	\fvset{%
%	frame=none,
%	framesep=1mm,
%	fontsize=\small,
%	numbers=right,
%	framerule=.3mm,
%	numbersep=3mm,
%	tabsize=3,
%	commandchars=@*+,
%	commentchar=ยง}

%	 Background colour
%	\makeatletter
%	\newif\ifFV@bgcolor
%	\newbox\FV@bgbox
%	\define@key{FV}{bgcolor}{\FV@bgcolortrue\def\FV@bgcolor{#1}}

%	\def\FV@BeginVBox{%
%	  \leavevmode\ifFV@bgcolor\setbox\FV@bgbox=\fi
%	  \hbox\ifx\FV@boxwidth\relax\else to\FV@boxwidth\fi\bgroup
%	  \ifcase\FV@baseline\vbox\or\vtop\or$\vcenter\fi\bgroup}
%	\def\FV@EndVBox{\egroup\ifmmode$\fi\hfil\egroup
% 	 \ifFV@bgcolor\colorbox{\FV@bgcolor}{\box\FV@bgbox}\fi}
%	\makeatother


%----- Examples -----%
\newcounter{example}[chapter]
\newenvironment{example}[1][]
{% before content:
	\refstepcounter{example}
	\bigskip\noindent
	\begin{minipage}[c]{1.5cm}
	    {\color{StyleCol1} \rule{1.5cm}{0.4pt}}
	\end{minipage}
	\begin{minipage}[c]{\widthofpbox{%
		Example~\theexample}}
		{\color{StyleCol1}%
		\textit{Example~\theexample}}
	\end{minipage}
	\begin{minipage}[c]{1.5cm}
	    {\color{StyleCol1} \rule{1.5cm}{0.4pt}}
	\end{minipage}
	{\color{StyleCol1} \textit{#1}}
	\smallbreak\vspace{-1mm}\noindent\ignorespaces{}
}{% after content:
	%\centerline{{\color{StyleCol1}
	%\rule{0.55\linewidth}{0.4pt}}}
	%{\color{StyleCol1} \hrulefill}
	\bigskip\par\noindent\ignorespacesafterend{}
}

% For referencing:
\renewcommand*\theexample{\thechapter.\arabic{example}}


%----- Exercises -----%
\newcounter{exercise}[chapter]
\newenvironment{exercise}[1][]
{% before content:
	\refstepcounter{exercise}
	\bigskip\noindent
	\begin{minipage}[c]{1.5cm}
	    {\color{StyleCol5} \rule{1.5cm}{0.4pt}}
	\end{minipage}
	\begin{minipage}[c]{\widthofpbox{%
		Exercise~\theexercise}}
		{\color{StyleCol5} \textbf{Exercise~\theexercise}}
	\end{minipage}
	\begin{minipage}[c]{1.5cm}
	    {\color{StyleCol5} \rule{1.5cm}{0.4pt}}
	\end{minipage}
	{\color{StyleCol5} #1}
	\smallbreak\vspace{-1mm}\noindent\ignorespaces{}
}{% after content:
	%\centerline{{\color{StyleCol1} \rule{0.55\linewidth}{0.4pt}}}
	\bigskip\par\noindent\ignorespacesafterend{}
}

% For referencing:
\renewcommand*\theexercise{\thechapter.\arabic{exercise}}



%----- Solutions -----%
\newcounter{solution}[chapter]
\newenvironment{solution}[1][]
{% before content:
	\refstepcounter{solution}
	\bigskip\noindent
	\begin{minipage}[c]{1.5cm}
	    {\color{StyleDarkGreen} \rule{1.5cm}{0.4pt}}
	\end{minipage}
	\begin{minipage}[c]{\widthofpbox{%
		Solution~\thesolution}}
		{\color{StyleDarkGreen} \textit{Solution~\thesolution}}
	\end{minipage}
	\begin{minipage}[c]{1.5cm}
	    {\color{StyleDarkGreen} \rule{1.5cm}{0.4pt}}
	\end{minipage}
	{\color{StyleDarkGreen} \textit{#1}}
	\smallbreak\vspace{-1mm}\noindent\ignorespaces{}
}{% after content:
	%\centerline{{\color{StyleCol1} \rule{0.55\linewidth}{0.4pt}}}
	\bigskip\par\noindent\ignorespacesafterend{}
}

% For referencing:
\renewcommand*\thesolution{\thechapter.\arabic{solution}}
